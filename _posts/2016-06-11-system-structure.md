---
layout: post
title: 시스템 설계 보고서
description: 
modified: 2016-06-11
category: articles
tags: [tech survey]
imagefeature: 
comments: true
share: true
---
**시스템 설계 보고서**
-----------

**1) 시스템의 목적**

본 설계보고서에서는 엄청난 유동인구를 자랑하면서도 인구집중이 높은 지하철 공간을 이용하여 관광인프라의 수준을 높일 뿐만 아니라 능동적인서비스를 제공하는 시스템을 제안하고자 한다.

기존의 시스템들은 광고를 통해 쇼핑의 욕구를 어느정도 해소하는데에는 성공했으나, 단순한 쇼핑 서비스만을 제공할 뿐 실시간으로 컨텐츠를 변경하거나 혹은 디지털 컨텐츠를 디스플레이 할 수 없어서 상당히 비효율적이고 일방적인 방식이다. 또한, 이용자의 취향분석이나 다른 서비스의 제공에서는 부족한 부분을 보인다.

따라서 기존의 서비스에 비해 사용성을 높이고 흥미를 제공할 수 있는 시스템의 개발을 목표로 하게 되었다. 

사용자는 스마트폰의 NFC 기능을 이용하여 디스플레이 장치와 상호작용 할 수 있고, 자신의 국적에 따른 언어로 서비스를 제공받을 뿐 아니라 자신이 원하는 컨텐츠를 제공받을 수 있다. 또한, 원한다면 어플을 이용하여 스마트폰 상에서 정보를 활용할 수 있다.


---

**2) 시스템 구조**

<figure>
	<img src="{{ site.url }}/images/system.jpg">
	<figcaption>시스템 구조도</figcaption>
</figure>


 NFC는 사용자와의 상호작용을 위해 존재한다. 국가별 표준 개발이 필요 없으므로 광범위 하게 사용될 수 있다.

 디스플레이는 여러가지 정보를 표시하는 역할을 한다. 각 디스플레이에는 NFC가 붙어 있으며, 이것으로 사용자와 상호작용을 시작한다.

 정보는 중간서버에서 가져오게 된다. 이 때, NFC에 포함된 디스플레이의 고유 ID(TV ID)를 통해, 해당 디스플레이에 표시될 정보인지 구분할 수 있다.

  스마트폰은 디스플레이와 상호작용하기 위해 존재한다. 중간서버에 디스플레이의 고유ID와 함께 정보를 요청하면, 중간서버는 해당 ID에 대한 정보를 반환한다. 반환받은 정보를 바탕으로 각 디스플레이에 정보를 출력한다. 
  
  중간서버는 다수의 디스플레이와 연결될 수 있다. 정보 DB를 보유하고 있으며, 스마트폰, 디스플레이, 메인서버의 자료요청에 대응한다.

  메인서버는 다수의 중간서버와 연결될 수 있다. 중간서버들의 목록을 보유하고 있으며, 사용자의 검색요청에 대해 각 중간서버로 검색요청을 보내고, 각 중간서버로부터 반환받은 검색정보를 종합해 사용자에게 제공하는 역할을 한다.


---
**3) 시스템의 기능**

 1. 평상시 각 디스플레이는 현재 날씨와 노선도, 광고 정보를 표시
 2. NFC 접촉 시 사용자의 국적에 따라 언어서비스 제공
 3. 상황인식 기반의 취향분석 데이터 제공
 <figure>
	<img src="{{ site.url }}/images/contextaware.jpg">
	<figcaption>상황인식 처리</figcaption>
</figure>
 4. 스마트폰과 디스플레이 화면의 실시간 연동
 



----

**4) 시스템의 구성 요소 및 각 구성 요소의 기능, 입출력 데이터**

서버와 스마트폰, 디스플레이로 구성된 본 시스템은 다음과 같이 설계되어 있다.
<figure>
	<img src="{{ site.url }}/images/systemstructure.jpg">
	<figcaption>시스템의 세부구성도</figcaption>
</figure>

  먼저 유휴 상태에서 보여지는 정보, 그리고 사용자가 요청하는 정보들을 모두 처리하는 기능을 가진 서버는 7개의 독립된 영역으로 설계되어 있다. 각 세부요소에 대한 설명은 다음과 같다. 

    ① 기상 정보 처리부 : 현재의 기상 정보를 보관
    ② 노선 정보 처리부 : 현재 역이 위치한 노선의 정보를 보관
    ③ 장소 정보 처리부 : 역 주위 장소의 이름, 설명, 위경도 좌표를 보관.
    ④ 광고 정보 처리부 : 역내 송출 할 광고 정보를 보관
    ⑤ 언어 정보 처리부 : 국가에 따른 언어 정보 보관
    ⑥ 디스플레이 처리부 : 디스플레이 출력에 필요한 데이터를 생성.
    ⑦ 디스플레이 ID : 각 디스플레이 NFC의 고유 ID, 이름을 관리

  두번째로 스마트폰은 사용자에게 필요한 기능을 제공하는 인터페이스와 하드웨어에서 얻은 값을 서버로 전달하고, 서버에서 가공된 정보를 출력해주는 기능들을 효과적으로 수행하도록 설계되어 있으며 세부 구성요소는 다음과 같다.

    ① H/W : 사용자가 NFC 접촉시 정보를 제공.
    ② 사용자 국가 정보 : 사용자의 국가 정보를 저장.
    ③ 사용자 언어 정보 : 사용자의 언어 정보를.
    ④ 날씨 정보 출력부 : 현재의 날씨 정보를 출력.
    ⑤ 노선 정보 출력부 : 역의 노선 정보를 출력.
    ⑥ 장소 정보 출력부 : 역 주위 장소 정보를 출력.
    ⑦ 언어 정보 출력부 : 정보들의 언어번역 처리
 
 마지막으로 디스플레이는 언어 번역을 거친 날씨, 노선 및 광고, 주위 장소 정보를 출력한다.

    ① 디스플레이 출력부 : 서버에 생성되어 있는 데이터를 가져와(PULL) 출력.


----
**5) 각 시스템 기능 별 시스템 구성 요소 간의 동작 흐름**

1) 메인 시스템 시나리오
<figure>
	<img src="{{ site.url }}/images/mainsystem.jpg">
	<figcaption>메인 시스템 시나리오</figcaption>
</figure>

    ① 사용자는 디스플레이에 설치된 NFC에 스마트폰을 접촉한다.(서버접속정보와 해당 디스플레이의 고유 ID (TV ID)가 포함되어 있다.)
    ② 스마트폰은 태그로부터 얻은 서버접속정보를 이용해 메인서버에 접속한다.
    ③ 메인 서버는 사용자의 국가 및 언어정보, 디스플레이 ID 정보를 받는다.
    ④ 국가 및 언어, 디스플레이가 위치한 장소 정보를 활용하여 상황인식 처리 정보를 중간 서버로 전송한다.
    ⑤ 중간 서버는 전송 받은 정보를 디스플레이 ID에 맞는 디스플레이에 출력한다.
    ⑥ 스마트폰은 해당 디스플레이의 화면과 동일한 화면을 구성해 사용자에게 제공한다.
    ⑦ 사용자는 디스플레이와 동일한 정보를 담고 있는 스마트폰 화면을 통해 컨텐츠를 활용한다.
    ⑧ 사용자는 디스플레이에서 큰 화면으로도 컨텐츠를 제공받을 수 있다.


2) 유휴 상태 시나리오
<figure>
	<img src="{{ site.url }}/images/subsystem1.jpg">
	<figcaption>유휴 상태 시나리오</figcaption>
</figure>

    ① 중간서버는 기상 및 노선 정보, 광고 정보를 디스플레이로 출력한다.
    ② 역 내 이용자들은 각 정보를 제공받는다.
   
3) 언어 번역 시나리오
<figure>
	<img src="{{ site.url }}/images/subsystem2.jpg">
	<figcaption>언어 번역 시나리오</figcaption>
</figure>

    ① 사용자는 디스플레이에 설치된 NFC에 스마트폰을 접촉한다.(서버접속정보와 해당 디스플레이의 고유 ID (TV ID)가 포함되어 있다.)
    ② 스마트폰은 태그로부터 얻은 서버접속정보를 이용해 메인서버에 접속한다.
    ③ 메인 서버는 사용자의 국가 및 언어정보, 디스플레이 ID 정보를 받는다.
    ④ 국가 및 언어, 디스플레이가 위치한 장소 정보를 처리 정보를 중간 서버로 전송한다.
    ⑤ 중간 서버는 전송 받은 정보를 디스플레이 ID에 맞는 디스플레이에 출력한다.  


4) 상황 인식 시나리오
<figure>
	<img src="{{ site.url }}/images/subsystem3.jpg">
	<figcaption>상황 인식 시나리오</figcaption>
</figure>

    ① 사용자는 디스플레이에 설치된 NFC에 스마트폰을 접촉한다.(서버접속정보와 해당 디스플레이의 고유 ID (TV ID)가 포함되어 있다.)
    ② 스마트폰은 태그로부터 얻은 서버접속정보를 이용해 메인서버에 접속한다.
    ③ 메인 서버는 사용자의 국가 및 언어정보, 디스플레이 ID 정보를 받는다.
    ④ 국가 및 언어, 디스플레이가 위치한 장소 정보를 활용하여 상황인식 처리 정보를 중간 서버로 전송한다.
    ⑤ 중간 서버는 전송 받은 정보를 디스플레이 ID에 맞는 디스플레이에 출력한다.